<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/tr/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>伊利安慕希不踩白格游戏</title>
<meta name="description" content="伊利安慕希不踩白格 抢百万微信红包 I want you！" />
<meta name="viewport" content="width=device-width,inital-scale=0.5,maximum-scale=1, minimum-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="format-detection" content="telephone=no">
<style>body {
	MARGIN: 0px;
}
</style>
<link rel="stylesheet" href="css/style.css">
<link type="text/css" href="css/loader.css" rel="stylesheet"/>
<link rel="stylesheet" href="css/bootstrap.min.css">
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/yahoo-min.js"></script>
<script src="js/event-min.js"></script>
<script src="js/getDevicePixelRatio-min.js"></script>
<script src="js/json2.js"></script>
<script src="js/storage.js"></script>
<script src="js/WechatShare.js"></script>
<script src="js/freeze-touch-move.js"></script>
<script src="js/config.js"></script>	
<script type="text/javascript">		
		window.onload = function () {
			orientationchange();
			window.onorientationchange = function () {
				orientationchange();
			}
		}
		function orientationchange() {
			if (window.orientation == undefined) {
				return;
			}
			if (window.orientation == 0 || window.orientation == 180) {
				//竖屏
				document.getElementById("horizontal").style.display = 'none';
			} else {
				//横屏
				document.getElementById("horizontal").style.display = 'block';
			}
		};
		
		
		function tapContainer() {
				
				return function(){
						// $("#container").css("background-image", "url('image/ad.jpg')");
						$("#ad").css("display", "block");
				};
			};
			
		function tapAd() {
				return function() {
						$("#ad").css("display", "none");
						$("#gameCanvas").css("display", "block");
					};
		};		
			
		$(window).ready(function () {	
			
			// setTimeout(function(){
			// 	$("#container").css("background-image", "url('image/ad.jpg')");				
			// }, 4000);
			// setTimeout(function(){
			// 	$("#gameCanvas").css("display", "block");
			// }, 6000);
			
			
			var canvas = $("#gameCanvas");
			console.log("window.innerWidth=="+window.innerWidth);
			console.log("window.innerHeight=="+window.innerHeight);
			canvas.width = window.innerWidth;
			canvas.height = window.innerHeight;	
			var ctx = canvas.get(0).getContext("2d");
			ctx.fillStyle = "#0000FF";
			ctx.fillRect(0, 0, canvas.width, canvas.height); 
			console.log("canvas.width=="+canvas.width);
			console.log("canvas.height=="+canvas.height);
			// alert("canvas.width=="+canvas.width);
			// alert("canvas.height=="+canvas.height);
			// alert("body.height=="+$("body").height());
			// alert("window==" + $(window).width() + 'x' + $(window).height());
			// alert("document==" + $(document).width() + 'x' + $(document).height());
			// alert("container==" + $('#container').width() + 'x' + $(container).height());
			if (typeof(window.resolution) == "undefined") {
				window.resolution = {
					"width": $(document).width(),
					"height": $(document).height()
				};
			}	
			$("#container").on("click", tapContainer());
			$("#container").on("tap", tapContainer());
			$("#ad").on("click", tapAd());
			$("#ad").on("tap", tapAd());
		});
		
		window.onViewBonusEvent = new YAHOO.util.CustomEvent('onViewBonusEvent');
		function viewBonus(event, arguments, obj) {
		try {
			var url = window.location.href.substring(0, window.location.href.lastIndexOf('/')) + "/win.html";
			window.location.href = url;
			} catch (err) {
				alert(err);
			}
		};
		window.onViewBonusEvent.subscribe(viewBonus);
		
		$(function () {
			if (navigator.userAgent.match(/iPhone/i) ) { // || navigator.userAgent.match(/iPad/i)
				window.resolution.device = 'iPhone';
			}
		});		
		
		setTimeout(function animate() {
				$('#container').css({"padding-top":"0px"});
				$('#container').css({"padding-bottom":"0px"});		
				$('#gameCanvas').css({"background-color":"#005C87"});
		}, 3000);
		
</script>
<script src="boot-html5.js"></script>
<body>
<div id="horizontal" style="display: none;"></div>
<div id="ad" style="display: none;"></div>
<div id="container">
	<canvas id="gameCanvas">当前浏览器不支持HTML5 Canvas，请更换您的浏览器 </canvas>
</div>
</body>
</HTML>
